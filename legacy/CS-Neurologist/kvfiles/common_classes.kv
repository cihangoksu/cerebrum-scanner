#:import hex kivy.utils.get_color_from_hex
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import SlideTransition kivy.uix.screenmanager.SlideTransition

# Menu Window Items #
<TranscriptorBackground@BoxLayout>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'assets/images/PNG/background.png'

<CredentialsTextInput@TextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1

<MoveTextInput@TextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_blink: True
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1.2


<SupportTextInput@TextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838') if root.ValidateTextInput(self.text) else hex('#c85417')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1

<UsernameTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838') if root.ValidateTextInput(self.text) else hex('#c85417')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1
    canvas.after:
        Color:
            rgba: (1.,0.3,0.3,1) if root.ValidateTextInput(self.text) else (1,0.3,0.3,1)
        Rectangle:
            pos: self.pos[0] + self.size[0] * 0.90, self.pos[1] + self.size[1]*0.25
            size: 0 if root.ValidateTextInput(self.text) else self.size [0]*0.055,self.size [0]*0.055
            source: 'assets/images/PNG/icons-warning.png'

<ConfirmationTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838') if root.ValidateTextInput(self.text) else hex('#c85417')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1
    canvas.after:
        Color:
            rgba: (1.,0.3,0.3,1) if root.ValidateTextInput(self.text) else (1,0.3,0.3,1)
        Rectangle:
            pos: self.pos[0] + self.size[0] * 0.84, self.pos[1] + self.size[1]*0.25
            size: 0 if root.ValidateTextInput(self.text) else self.size[0]*0.083, self.size[0]*0.083
            source: 'assets/images/PNG/icons-warning.png'

<EmailTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1

<CardNumberTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1

<CardExpireTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1

<CVVTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1

<CredentialsPasswordTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838') if root.ValidateTextInput(self.text) else hex('#c85417')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1
    canvas.after:
        Color:
            rgba: (1.,0.3,0.3,1) if root.ValidateTextInput(self.text) else (1,0.3,0.3,1)
        Rectangle:
            pos: self.pos[0] + self.size[0] * 0.90, self.pos[1] + self.size[1]*0.25
            size: 0 if root.ValidateTextInput(self.text) else self.size [0]*0.055,self.size [0]*0.055
            source: 'assets/images/PNG/icons-warning.png'

<CredentialsNewPasswordTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838') if root.ValidateTextInput(self.text) else hex('#c85417')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1
    canvas.after:
        Color:
            rgba: (1.,0.3,0.3,1) if root.ValidateTextInput(self.text) else (1,0.3,0.3,1)
        Rectangle:
            pos: self.pos[0] + self.size[0] * 0.90, self.pos[1] + self.size[1]*0.25
            size: 0 if root.ValidateTextInput(self.text) else self.size[0]*0.055,self.size[0]*0.055
            source: 'assets/images/PNG/icons-warning.png'

<CredentialsOldPasswordTextInput>:
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838') if root.ValidateTextInput(self.text) else hex('#c85417')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1
    canvas.after:
        Color:
            rgba: (1.,0.3,0.3,1) if root.ValidateTextInput(self.text) else (1,0.3,0.3,1)
        Rectangle:
            pos: self.pos[0] + self.size[0] * 0.90, self.pos[1] + self.size[1]*0.25
            size: 0 if root.ValidateTextInput(self.text) else self.size[0]*0.055,self.size[0]*0.055
            source: 'assets/images/PNG/icons-warning.png'

<CredentialsRepeatPasswordTextInput>
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838') if root.ValidateTextInput(self.text) else hex('#c85417')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1
    canvas.after:
        Color:
            rgba: (1.,0.3,0.3,1) if root.ValidateTextInput(self.text) else (1,0.3,0.3,1)
        Rectangle:
            pos: self.pos[0] + self.size[0] * 0.90, self.pos[1] + self.size[1]*0.25
            size: 0 if root.ValidateTextInput(self.text) else self.size[0]*0.055,self.size[0]*0.055
            source: 'assets/images/PNG/icons-warning.png'

<CredentialsRepeatNewPasswordTextInput>
    background_color: 0,0,0,0
    multiline: False
    cursor_color: hex('#383838') #19x
    canvas.before:
        Color:
            rgba: hex('#383838') if root.ValidateTextInput(self.text) else hex('#c85417')
        Line:
            rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
            width: 1
    canvas.after:
        Color:
            rgba: (1.,0.3,0.3,1) if root.ValidateTextInput(self.text) else (1,0.3,0.3,1)
        Rectangle:
            pos: self.pos[0] + self.size[0] * 0.90, self.pos[1] + self.size[1]*0.25
            size: 0 if root.ValidateTextInput(self.text) else self.size[0]*0.055,self.size[0]*0.055
            source: 'assets/images/PNG/icons-warning.png'

<RoundedButton@Button>:
    font_size: self.size[1]*0.5
    canvas.before:
        Color:
            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [20,]

<AllWellPopup>:
    name: 'allwellpopup'
    id: id_AllWellPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.5, 0.5)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 35
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 30
            BoxLayout:
                size_hint_x: 40
                Image:
                    pos: self.pos
                    size: self.size
                    source: 'assets/images/PNG/icons-correct.png'
                    keep_ratio: True
                    allow_stretch: True
            BoxLayout:
                size_hint_x: 30
        BoxLayout:
            size_hint_y: 40
            Label:
                pos: self.pos
                size: self.size
                text: root.id_AllWellPopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.22)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 3

        BoxLayout:
            size_hint_y: 20

            Button:
                id: id_AllWellOKButton
                background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                text: "OK"
                font_size: self.size[1]*0.6
                canvas.before:
                    Color:
                        rgba: hex('#5e9a34') if self.state=='normal' else hex('#385c1F')  # visual feedback of press
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                on_release: root.dismiss()




<WarningPopup>:
    name: 'warningpopup'
    id: id_WarningPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.5, 0.5)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 35
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 30
            BoxLayout:
                size_hint_x: 40
                Image:
                    pos: self.pos
                    size: self.size
                    source: root.id_WarningPopupImage #'assets/images/PNG/icons-warning.png'
                    keep_ratio: True
                    allow_stretch: True
            BoxLayout:
                size_hint_x: 30
        BoxLayout:
            size_hint_y: 40
            Label:
                pos: self.pos
                size: self.size
                text: root.id_WarningPopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.22)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0]*0.02
        BoxLayout:
            size_hint_y: 3

        BoxLayout:
            size_hint_y: 20

            Button:
                id: id_WarningOKButton
                background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                text: "OK"
                font_size: self.size[1]*0.6
                canvas.before:
                    Color:
                        rgba: hex('#c85417') if self.state=='normal' else hex('#d0a23e')  # visual feedback of press
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                on_release: root.dismiss()


<AreYouSurePopup>:
    name: 'areyousurepopup'
    id: id_AreYouSurePopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.5, 0.5)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 35
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 30
            BoxLayout:
                size_hint_x: 40
                Image:
                    pos: self.pos
                    size: self.size
                    source: 'assets/images/PNG/icons-question.png'
                    keep_ratio: True
                    allow_stretch: True
            BoxLayout:
                size_hint_x: 30
        BoxLayout:
            size_hint_y: 40
            Label:
                pos: self.pos
                size: self.size
                text: root.id_AreYouSurePopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.22)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 3

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 20
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_ProceedButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#c85417') if self.state=='normal' else hex('#d0a23e')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2

<ConfirmationCodePopup>:
    name: 'confirmationcodepopup'
    id: id_ConfirmationCodePopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.5, 0.4)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 4
        BoxLayout:
            size_hint_y: 26
            Label:
                pos: self.pos
                size: self.size
                text: root.id_ConfirmationPopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.34)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 8
            Label:
                id: id_resentnotice
                opacity: root.id_ResentOpacity
                pos: self.pos
                size: self.size
                text: 'The confirmation code has been resent!'
                color: hex('#c85417')
                font_size: str(self.size[1]*0.8)
                halign: "center"
                valign: "top"
                text_size: self.size
                markup: True
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 25
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 96
                FloatLayout:
                    Widget:
                        id: id_ConfirmationFormcontainer
                        size_hint: 1, 1
                        pos_hint: {'x':0 , 'y':0}
                        canvas.before:
                            Color:
                                rgba: hex('#ffffff')
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [20,]
                    ConfirmationTextInput:
                        size_hint: 1, 1
                        pos_hint: {'x':0 , 'y':0}
                        id: id_Confirmation_Codetext
                        # text:"Enter code" if (self.focus==False and self.text=="") else root.id_Confirmation_Codetext
                        text: "CODE" if (self.focus==False and self.text=="") else "" if (self.focus==True and self.text=="CODE") else self.text
                        text_size: self.size[1]*0.8
                        valign: 'middle'
                        font_size: self.size[0]*0.06
                        padding_x: self.size[0]*0.03
                        padding_y: self.size[1]*0.18
                    Button:
                        id: id_ResendButton
                        size_hint: 0.2, 0.6
                        pos_hint: {'x':0.75, 'center_y':0.5}
                        background_color: 0,0,0,0  # the last zero is the critical one, make invisible
                        text: 'Resend code'
                        color: hex('#c85417') if self.state == 'normal' else hex('#d0a23e')
                        bold: True
                        font_size: self.size[1]*0.64
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 8

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 25
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_ProceedButtonContent
                    disabled: True if id_Confirmation_Codetext.text == "CODE" else True if id_Confirmation_Codetext.text == "" else True if len(id_Confirmation_Codetext.text)<4 else False
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#5f9a34') if self.state=='normal' else hex('#afcc9a')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2


<ForgotPasswordPopup>:
    name: 'forgotpasswordpopup'
    id: id_ForgotPasswordPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.5, 0.4)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 40
            Label:
                pos: self.pos
                size: self.size
                text: root.id_ForgotPasswordPopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.28)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 25
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 96
                orientation: 'horizontal'
                canvas.before:
                    Color:
                        rgba: hex('#ffffff')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                EmailTextInput:
                    id: id_EmailAddressText
                    # text:"Enter code" if (self.focus==False and self.text=="") else root.id_Confirmation_Codetext
                    text: "Email address" if (self.focus==False and self.text=="") else "" if (self.focus==True and self.text=="Email address") else self.text
                    text_size: self.size[1]*0.8
                    valign: 'middle'
                    halign: 'left'
                    font_size: self.size[0]*0.06
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.18
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 8

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 25
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_ProceedButtonContent
                    disabled: True if id_EmailAddressText.text == "Email address" else True if id_EmailAddressText.text == "" else False
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#c85417') if self.state=='normal' else hex('#d0a23e')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2

<SetNewPasswordPopup>:
    name: 'setnewpasswordpopup'
    id: id_SetNewPasswordPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.5, 0.5)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 32
            Label:
                pos: self.pos
                size: self.size
                text: root.id_SetNewPasswordPopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.20)
                halign: "center"
                valign: "middle"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 18
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 96
                orientation: 'horizontal'
                canvas.before:
                    Color:
                        rgba: hex('#ffffff')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                CredentialsNewPasswordTextInput:
                    id: id_NewpasswordpopupPassword
                    password: False
                    text: "New password"
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.18
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 4
        BoxLayout:
            size_hint_y: 18
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 96
                orientation: 'horizontal'
                canvas.before:
                    Color:
                        rgba: hex('#ffffff')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                CredentialsRepeatNewPasswordTextInput:
                    id: id_NewpasswordpopupRePassword
                    password: False
                    text:"Repeat new password"
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.18
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 6

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 20
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.48
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_ProceedButtonContent
                    disabled: True if id_NewpasswordpopupPassword.text == "New password" else True if id_NewpasswordpopupPassword.text == "" else True if id_NewpasswordpopupPassword.text != id_NewpasswordpopupRePassword.text else True if len(id_NewpasswordpopupPassword.text)<8 else False
                    font_size: self.size[1]*0.48
                    canvas.before:
                        Color:
                            rgba: hex('#5f9a34') if self.state=='normal' else hex('#afcc9a')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2

<CreditCardInfoPopup>:
    name: 'creditcardinfopopup'
    id: id_CreditCardInfoPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.5, 0.6)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 40
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                FloatLayout:
                    Image:
                        id: id_cardfront
                        source: 'assets/images/PNG/credit-front.png'
                        size_hint: 1,1
                        pos_hint: {'center_x':0.5, 'y':0}
                        keep_ratio: True
                    Label:
                        pos_hint: {'x':0.12, 'y':0.26}
                        size_hint: 0.7,0.2
                        text_size: self.size
                        text: id_CardNumber.text
                        color: hex('#e9e9e9')
                        font_size: self.size[1]*0.56
                        halign: "left"
                        valign: "middle"
                    Label:
                        pos_hint: {'x':0.12, 'y':0.08}
                        size_hint: 0.3,0.2
                        text_size: self.size
                        text: id_Expire.text
                        color: hex('#e9e9e9')
                        font_size: self.size[1]*0.56
                        halign: "left"
                        valign: "middle"
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                FloatLayout:
                    Image:
                        id: id_cardback
                        source: 'assets/images/PNG/credit-back.png'
                        size_hint: 1,1
                        pos_hint: {'center_x':0.5, 'y':0}
                        keep_ratio: True
                    Label:
                        pos_hint: {'center_x':0.7, 'y':0.36}
                        size_hint: 0.3,0.2
                        text_size: self.size
                        text: id_CVV.text
                        color: hex('#e9e9e9')
                        font_size: self.size[1]*0.6
                        halign: "left"
                        valign: "middle"
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 6
        BoxLayout:
            size_hint_y: 14
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "Card number"
                    color: hex('#383838')
                    font_size: self.size[1]*0.46
                    padding_x: self.size[1]*0.25
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
            BoxLayout:
                size_hint_x: 66
                orientation: 'horizontal'
                canvas.before:
                    Color:
                        rgba: hex('#ffffff')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                CardNumberTextInput:
                    id: id_CardNumber
                    password: False
                    text: "XXXX-XXXX-XXXX-XXXX"
                    font_size: self.size[1]*0.55
                    padding_x: self.size[1]*0.25
                    padding_y: self.size[1]*0.18
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 4
        BoxLayout:
            size_hint_y: 14
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "Exp Date"
                    color: hex('#383838')
                    font_size: self.size[1]*0.46
                    padding_x: self.size[1]*0.25
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
            BoxLayout:
                size_hint_x: 26
                canvas.before:
                    Color:
                        rgba: hex('#ffffff')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                CardExpireTextInput:
                    id: id_Expire
                    password: False
                    text:"MM/YY"
                    font_size: self.size[1]*0.55
                    padding_x: self.size[1]*0.25
                    padding_y: self.size[1]*0.18
            BoxLayout:
                size_hint_x: 20
                Label:
                    pos: self.pos
                    size: self.size
                    text: "CVV"
                    color: hex('#383838')
                    font_size: self.size[1]*0.46
                    padding_x: self.size[1]*0.25
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
            BoxLayout:
                size_hint_x: 20
                canvas.before:
                    Color:
                        rgba: hex('#ffffff')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                CVVTextInput:
                    id: id_CVV
                    password: False
                    text:"***"
                    font_size: self.size[1]*0.55
                    padding_x: self.size[1]*0.25
                    padding_y: self.size[1]*0.18
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 6

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 16
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: 'Back'
                    font_size: self.size[1]*0.48
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: 'Save changes'
                    disabled: True if id_CardNumber.text == 'XXXX-XXXX-XXXX-XXXX' else True if len(id_CardNumber.text)<19 else True if id_Expire.text == "MM/YY" else True if len(id_Expire.text)<5 else True if id_CVV.text == '***' else True if len(id_CVV.text)<3 else False
                    font_size: self.size[1]*0.48
                    canvas.before:
                        Color:
                            rgba: hex('#5f9a34') if self.state=='normal' else hex('#afcc9a')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2

# <ForgotPasswordPopup>:
#     name: 'forgotpasswordpopup'
#     id: id_ForgotPasswordPopup
#
#     title: ""
#     title_color: hex('#FFCC00')
#     title_size: self.size[1]*0.1
#     separator_color: hex('#FFCC00')
#     separator_height: 0
#
#     auto_dismiss: False
#     size_hint:(0.5, 0.6)
#
#     background: 'assets/images/PNG/popupbackground.png'
#
#     BoxLayout:
#         orientation: 'vertical'
#         BoxLayout:
#             size_hint_y: 32
#             Label:
#                 pos: self.pos
#                 size: self.size
#                 text: root.id_ForgotPasswordPopupContent
#                 color: hex('#606060')
#                 font_size: str(self.size[1]*0.24)
#                 halign: "center"
#                 valign: "center"
#                 text_size: self.size
#                 markup: True
#                 padding_x: self.size[0] * 0.02
#         BoxLayout:
#             size_hint_y: 2
#         BoxLayout:
#             size_hint_y: 18
#             orientation: 'horizontal'
#             BoxLayout:
#                 size_hint_x: 2
#             BoxLayout:
#                 size_hint_x: 96
#                 orientation: 'horizontal'
#                 canvas.before:
#                     Color:
#                         rgba: hex('#ffffff')
#                     RoundedRectangle:
#                         pos: self.pos
#                         size: self.size
#                         radius: [20,]
#                 BoxLayout:
#                     size_hint_x: 70
#                     EmailTextInput:
#                         id: id_Forgot_emailtext
#                         # text:"Enter code" if (self.focus==False and self.text=="") else root.id_Confirmation_Codetext
#                         text: "Enter email address" if (self.focus==False and self.text=="") else "" if (self.focus==True and self.text=="Enter email address") else self.text
#                         text_size: self.size[1]*0.8
#                         valign: 'middle'
#                         font_size: self.size[0]*0.083
#                         padding_x: self.size[0]*0.05
#                         padding_y: self.size[1]*0.2
#                         # on_focus: root.ClearTextInput()
#                 BoxLayout:
#                     size_hint_x: 3
#                 BoxLayout:
#                     size_hint_x: 27
#                     Button:
#                         id: id_ResendButton
#                         background_color: 0,0,0,0  # the last zero is the critical on, make invisible
#                         text: 'Send code'
#                         disabled: True if id_Forgot_emailtext.text == "Enter email address" else True if id_Forgot_emailtext.text == "" else False
#                         font_size: self.size[1]*0.32
#                         canvas.before:
#                             Color:
#                                 rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
#                             RoundedRectangle:
#                                 pos: self.pos
#                                 size: self.size
#                                 radius: [20,]
#                             # Color:
#                             #     rgba: hex('#191919') if self.state=='normal' else hex('#575757')
#                             # Line:
#                             #     rounded_rectangle:(self.pos[0], self.pos[1], self.size[0], self.size[1], 20, 20, 20, 20, self.size[0])
#                             #     width: 2
#             BoxLayout:
#                 size_hint_x: 2
#         BoxLayout:
#             size_hint_y: 6
#         BoxLayout:
#             size_hint_y: 18
#             orientation: 'horizontal'
#             BoxLayout:
#                 size_hint_x: 2
#             BoxLayout:
#                 size_hint_x: 96
#                 canvas.before:
#                     Color:
#                         rgba: hex('#ffffff')
#                     RoundedRectangle:
#                         pos: self.pos
#                         size: self.size
#                         radius: [20,]
#                 ConfirmationTextInput:
#                     id: id_Confirmation_Codetext
#                     # text:"Enter code" if (self.focus==False and self.text=="") else root.id_Confirmation_Codetext
#                     text: "CODE" if (self.focus==False and self.text=="") else "" if (self.focus==True and self.text=="CODE") else self.text
#                     text_size: self.size[1]*0.8
#                     valign: 'middle'
#                     font_size: self.size[0]*0.071
#                     padding_x: self.size[0]*0.05
#                     padding_y: self.size[1]*0.2
#                     # on_focus: root.ClearTextInput()
#             BoxLayout:
#                 size_hint_x: 2
#         BoxLayout:
#             size_hint_y: 6
#
#         BoxLayout:
#             orientation: "horizontal"
#             size_hint_y: 18
#             BoxLayout:
#                 size_hint_x: 2
#             BoxLayout:
#                 size_hint_x: 47
#                 Button:
#                     id: id_CancelButton
#                     background_color: 0,0,0,0  # the last zero is the critical on, make invisible
#                     text: root.id_CancelButtonContent
#                     font_size: self.size[1]*0.4
#                     canvas.before:
#                         Color:
#                             rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
#                         RoundedRectangle:
#                             pos: self.pos
#                             size: self.size
#                             radius: [20,]
#
#             BoxLayout:
#                 size_hint_x: 2
#             BoxLayout:
#                 size_hint_x: 47
#                 Button:
#                     id: id_ProceedButton
#                     background_color: 0,0,0,0  # the last zero is the critical on, make invisible
#                     text: root.id_ProceedButtonContent
#                     disabled: True if id_Confirmation_Codetext.text == "CODE" else True if id_Confirmation_Codetext.text == "" else False
#                     font_size: self.size[1]*0.4
#                     canvas.before:
#                         Color:
#                             rgba: hex('#c85417') if self.state=='normal' else hex('#d0a23e')  # visual feedback of press
#                         RoundedRectangle:
#                             pos: self.pos
#                             size: self.size
#                             radius: [20,]
#             BoxLayout:
#                 size_hint_x: 2

<LoadingPopup>:
    name: 'loadingpopup'
    id: id_LoadingPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.3, 0.3)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 60
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 40
            BoxLayout:
                size_hint_x: 20
                Image:
                    source: 'assets/images/loading.gif'
                    anim_delay: 0.1
            BoxLayout:
                size_hint_x: 40
        BoxLayout:
            size_hint_y: 40
            Label:
                pos: self.pos
                size: self.size
                text: root.id_LoadingPopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.3)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 3

<FileBrowsePopup>:
    name: 'filebrowsepopup'
    id: id_FileBrowsePopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.8, 0.9)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 8
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 48
                Button:
                    id: id_ListViewButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: "List view"
                    font_size: self.size[1]*0.4
                    on_press:
                        id_filechooser.view_mode = 'list'
                    canvas.before:
                        Color:
                            rgba: hex('#191919') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,0,0,0]
                        Color:
                            rgba: hex('#e2e2e2')
                        Line:
                            points: self.pos[0], self.pos[1], self.pos[0] + self.size[0], self.pos[1]
                            width: 0.5
            BoxLayout:
                size_hint_x: 48
                Button:
                    id: id_IconViewButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: "Icon view"
                    font_size: self.size[1]*0.4
                    on_press:
                        id_filechooser.view_mode = 'icon'
                    canvas.before:
                        Color:
                            rgba: hex('#191919') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [0,20,0,0]
                        Color:
                            rgba: hex('#e2e2e2')
                        Line:
                            points: self.pos[0], self.pos[1], self.pos[0] + self.size[0], self.pos[1]
                            width: 0.5

            BoxLayout:
                size_hint_x: 2

        BoxLayout:
            size_hint_y: 65
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 96
                FileChooser:
                    id: id_filechooser
                    path: root.id_defaultpath #"C:/Program Files"
                    FileChooserListLayout
                        canvas.before:
                            Color:
                                rgba: hex('#191919')
                            RoundedRectangle:
                                # pos: self.pos
                                pos: self.pos[0], self.pos[1]
                                size: self.size
                                # radius: [0,0,20,20]
                                radius: [0,]

                    FileChooserIconLayout
                        canvas.before:
                            Color:
                                rgba: hex('#191919')
                            RoundedRectangle:
                                # pos: self.pos
                                pos: self.pos[0], self.pos[1]
                                size: self.size
                                #radius: [0,0,20,20]
                                radius: [0,]
            BoxLayout:
                size_hint_x: 2

        BoxLayout:
            size_hint_y: 6
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 96
                canvas.before:
                    Color:
                        rgba: hex('#191919')
                    RoundedRectangle:
                        # pos: self.pos
                        pos: self.pos[0], self.pos[1]
                        size: self.size
                        radius: [0,0,20,20]
            BoxLayout:
                size_hint_x: 2

        BoxLayout:
            size_hint_y: 10
            Label:
                pos: self.pos
                size: self.size
                text: root.id_FileBrowsePopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.4)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 1

        BoxLayout:
            size_hint_y: 10
            orientation: "horizontal"
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#9e0b0f') if self.state=='normal' else hex('#ce8587')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    disabled: True if id_filechooser.selection == [] else False
                    opacity: 0.6 if id_filechooser.selection == [] else 1
                    text: root.id_ProceedButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#5f9a34') if self.state=='normal' else hex('#afcc9a')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2

<SupportPopup>:
    name: 'supportpopup'
    id: id_SupportPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.6, 0.6)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 20
            Label:
                pos: self.pos
                size: self.size
                text: root.id_SupportPopupContent
                color: hex('#383838')
                font_size: str(self.size[1]*0.28)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 1
        BoxLayout:
            size_hint_y: 60
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 96
                SupportTextInput:
                    id: id_SupportMessage
                    pos: self.pos
                    size: self.size
                    text:"Enter your message..."
                    password: False
                    multiline: True
                    text_size: self.size[1]*0.8
                    font_size: self.size[0]*0.036
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.06
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 3
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 16
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_ProceedButtonContent
                    font_size: self.size[1]*0.5
                    disabled: True if id_SupportMessage.text == "Enter your message..." else True if id_SupportMessage.text == "" else False
                    canvas.before:
                        Color:
                            rgba: hex('#c85417') if self.state=='normal' else hex('#d0a23e')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2

<ModifyBillingInfoPopup>:
    name: 'modifybillinginfopopup'
    id: id_ModifyBillingInfoPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.6, 0.75)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 10
            Label:
                pos: self.pos
                size: self.size
                text: 'The changes will be effective in the next billing period.'
                color: hex('#383838')
                font_size: str(self.size[1]*0.44)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 9
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "*Customer name"
                    color: hex('#383838')
                    font_size: self.size[0]*0.09
                    padding_x: self.size[0]*0.05
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
            BoxLayout:
                size_hint_x: 66
                CredentialsTextInput:
                    id: id_Customer_name
                    pos: self.pos
                    size: self.size
                    text: root.id_ModifyBilling_name
                    password: False
                    multiline: True
                    text_size: self.size[1]*0.8
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.16
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 9
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "*Billing email"
                    color: hex('#383838')
                    font_size: self.size[0]*0.09
                    halign: "right"
                    padding_x: self.size[0]*0.05
                    valign: "middle"
                    text_size: self.size
            BoxLayout:
                size_hint_x: 66
                CredentialsTextInput:
                    id: id_Billing_Email
                    disabled: True
                    pos: self.pos
                    size: self.size
                    text: root.id_ModifyBilling_email
                    password: False
                    multiline: True
                    text_size: self.size[1]*0.8
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.16
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 9
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "*Billing address"
                    color: hex('#383838')
                    font_size: self.size[0]*0.09
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
                    padding_x: self.size[0]*0.05
            BoxLayout:
                size_hint_x: 66
                CredentialsTextInput:
                    id: id_Billing_Address
                    pos: self.pos
                    size: self.size
                    text: root.id_ModifyBilling_address
                    password: False
                    multiline: True
                    text_size: self.size[1]*0.8
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.16
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 9
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "*Country"
                    color: hex('#383838')
                    font_size: self.size[0]*0.09
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
                    padding_x: self.size[0]*0.05
            BoxLayout:
                size_hint_x: 66
                CredentialsTextInput:
                    id: id_Country
                    pos: self.pos
                    size: self.size
                    text: root.id_ModifyBilling_country
                    password: False
                    multiline: True
                    text_size: self.size[1]*0.8
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.16
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 9
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "State/Province/Region"
                    color: hex('#383838')
                    font_size: self.size[0]*0.088
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
                    padding_x: self.size[0]*0.05
            BoxLayout:
                size_hint_x: 66
                CredentialsTextInput:
                    id: id_Province
                    pos: self.pos
                    size: self.size
                    text: root.id_ModifyBilling_state
                    password: False
                    multiline: True
                    text_size: self.size[1]*0.8
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.16
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 9
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "*City"
                    color: hex('#383838')
                    font_size: self.size[0]*0.09
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
                    padding_x: self.size[0]*0.05
            BoxLayout:
                size_hint_x: 66
                CredentialsTextInput:
                    id: id_City
                    pos: self.pos
                    size: self.size
                    text: root.id_ModifyBilling_city
                    password: False
                    multiline: True
                    text_size: self.size[1]*0.8
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.16
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 9
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 30
                Label:
                    pos: self.pos
                    size: self.size
                    text: "Zip/Postal code"
                    color: hex('#383838')
                    font_size: self.size[0]*0.09
                    halign: "right"
                    valign: "middle"
                    text_size: self.size
                    padding_x: self.size[0]*0.05
            BoxLayout:
                size_hint_x: 66
                CredentialsTextInput:
                    id: id_Zipcode
                    pos: self.pos
                    size: self.size
                    text: root.id_ModifyBilling_postal
                    password: False
                    multiline: True
                    text_size: self.size[1]*0.8
                    font_size: self.size[0]*0.05
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.16
            BoxLayout:
                size_hint_x: 2

        BoxLayout:
            size_hint_y: 3

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 10
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: "Back"
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: "Save changes"
                    font_size: self.size[1]*0.5
                    disabled: True if id_Customer_name.text=="" else True if id_Billing_Email.text=="" else True if id_Billing_Address.text=='' else True if id_Country.text=='' else True if id_City.text =='' else False
                    canvas.before:
                        Color:
                            rgba: hex('#5f9a34') if self.state=='normal' else hex('#afcc9a')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2

<SendTranscriptionPopup>:
    name: 'sendtranscriptionpopup'
    id: id_SendTranscriptionPopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.5, 0.4)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 40
            Label:
                pos: self.pos
                size: self.size
                text: root.id_SendTranscriptionPopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.28)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 25
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 96
                orientation: 'horizontal'
                canvas.before:
                    Color:
                        rgba: hex('#ffffff')
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20,]
                EmailTextInput:
                    id: id_EmailAddressText
                    # text:"Enter code" if (self.focus==False and self.text=="") else root.id_Confirmation_Codetext
                    text: "Email address" if (self.focus==False and self.text=="") else "" if (self.focus==True and self.text=="Email address") else self.text
                    text_size: self.size[1]*0.8
                    valign: 'middle'
                    halign: 'left'
                    font_size: self.size[0]*0.06
                    padding_x: self.size[0]*0.03
                    padding_y: self.size[1]*0.18
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 8

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 25
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_ProceedButtonContent
                    disabled: True if id_EmailAddressText.text == "Email address" else True if id_EmailAddressText.text == "" else False
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#c85417') if self.state=='normal' else hex('#d0a23e')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2

<AreYouSureWImagePopup>:
    name: 'areyousurewimagepopup'
    id: id_AreYouSureWImagePopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.6, 0.6)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 60
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 30
            BoxLayout:
                size_hint_x: 40
                Image:
                    pos: self.pos
                    size: self.size
                    source: 'assets/images/PNG/icons-warning.png'
                    texture: root.id_AreYouSureWImagePopupTexture
                    keep_ratio: True
                    allow_stretch: True
            BoxLayout:
                size_hint_x: 30
        BoxLayout:
            size_hint_y: 19
            Label:
                pos: self.pos
                size: self.size
                text: root.id_AreYouSureWImagePopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.32)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 3

        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 16
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_ProceedButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#c85417') if self.state=='normal' else hex('#d0a23e')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2


<AreYouSureWImagePreparePopup>:
    name: 'areyousurewimagepreparepopup'
    id: AreYouSureWImagePreparePopup

    title: ""
    title_color: hex('#FFCC00')
    title_size: self.size[1]*0.1
    separator_color: hex('#FFCC00')
    separator_height: 0

    auto_dismiss: False
    size_hint:(0.6, 0.66)

    background: 'assets/images/PNG/popupbackground.png'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            size_hint_y: 56
            orientation: 'horizontal'
            BoxLayout:
                size_hint_x: 30
            BoxLayout:
                size_hint_x: 40
                Image:
                    pos: self.pos
                    size: self.size
                    source: 'assets/images/PNG/icons-warning.png'
                    texture: root.id_AreYouSureWImagePreparePopupTexture
                    keep_ratio: True
                    allow_stretch: True
            BoxLayout:
                size_hint_x: 30
        BoxLayout:
            size_hint_y: 14
            Label:
                pos: self.pos
                size: self.size
                text: root.id_AreYouSureWImagePreparePopupContent
                color: hex('#606060')
                font_size: str(self.size[1]*0.40)
                halign: "center"
                valign: "center"
                text_size: self.size
                markup: True
                padding_x: self.size[0] * 0.02
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 10
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 4
                CheckBox:
                    id : id_CheckboxContinue
                    state: 'down'
                    disabled: True
                    background_checkbox_disabled_down: "assets/images/PNG/chck-down.png"
                    background_checkbox_disabled_normal: "assets/images/PNG/chck-normal.png"
                    background_checkbox_normal: "assets/images/PNG/chck-normal.png"
                    background_checkbox_down: "assets/images/PNG/chck-down.png"
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 90
                Label:
                    pos: self.pos
                    size: self.size
                    text: "Continue to transcribe after visual processing."
                    color: hex('#606060')
                    font_size: self.size[1]*0.46
                    halign: "left"
                    valign: "middle"
                    text_size: self.size
            BoxLayout:
                size_hint_x: 2
        BoxLayout:
            size_hint_y: 2
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 14
            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_CancelButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_CancelButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#383838') if self.state=='normal' else hex('#575757')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]

            BoxLayout:
                size_hint_x: 2
            BoxLayout:
                size_hint_x: 47
                Button:
                    id: id_ProceedButton
                    background_color: 0,0,0,0  # the last zero is the critical on, make invisible
                    text: root.id_ProceedButtonContent
                    font_size: self.size[1]*0.5
                    canvas.before:
                        Color:
                            rgba: hex('#c85417') if self.state=='normal' else hex('#d0a23e')  # visual feedback of press
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20,]
            BoxLayout:
                size_hint_x: 2
